

export VAULT_ADDR=http://vault.default.svc.cluster.local:8200
export VAULT_ADDR=http://vault-default.default.svc.cluster.local:8200
export VAULT_ADDR=http://vault.service.consul:8200

JWT_TOKEN=$(cat /var/run/secrets/kubernetes.io/serviceaccount/token)
curl \
    --request POST \
    --data '{"jwt": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjUwMzFhNTM0YTA2OTdlNDNiM2RjNDc3ODI4NmY4MDcxOTNhZjZmYjUifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjIl0sImV4cCI6MTczNzY2MTAzMCwiaWF0IjoxNzA2MTI1MDMwLCJpc3MiOiJodHRwczovL29pZGMuZWtzLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tL2lkLzA4NjgwQkY0RURDMDY0RjY5OUYyQzFFNTdENzkzRTY1Iiwia3ViZXJuZXRlcy5pbyI6eyJuYW1lc3BhY2UiOiJkZWZhdWx0IiwicG9kIjp7Im5hbWUiOiJjdXJscG9kLTVkNjdmYmI0NzYtcmN3bmoiLCJ1aWQiOiJkNDIyOWRhOC04YzJjLTQ1NDAtODYwNi02YmE3YTVlMTU3NjQifSwic2VydmljZWFjY291bnQiOnsibmFtZSI6InZhdWx0LWF1dGgiLCJ1aWQiOiIwMjY5OTM1NS1jY2FiLTRlYTYtOGZhYy03MzcwZjFhNzdkMGYifSwid2FybmFmdGVyIjoxNzA2MTI4NjM3fSwibmJmIjoxNzA2MTI1MDMwLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6ZGVmYXVsdDp2YXVsdC1hdXRoIn0.S-7JuBzcDsU8fOVPntNheowGJgzYgtxFpFCnqMjlXsMCuWBbevZJsGEFxW8_SQqQdBcA59WkEYIlBKTrlFDObAf7xzD3JTn6JuAJS-QzCcafE6D-Q4VDtfSC51TTeV2LP7lMeMvykVmFbEy1yYfmdlSbMNzQxei02eDrWgM_ioY93yeA_rGHhRsGz4Z6dd7M0ySyWAgNLbKdPUxDADtA16s1o3jFP6nA6o1HCa92r1DoNXZZwAEagUwWPw5Qm-WNsO8WsNeJRW79Eg1YwqtqRGc6YLmQevYqnuPoFT38iW8xlcTA92O0frOFWwphb5UHbxb2udLaMA1VNbsMI0Bvow", "role": "vault_go_demo"}' \
    http://vault.default.svc.cluster.local:8200/v1/auth/kubernetes/login
